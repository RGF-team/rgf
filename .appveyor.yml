build: false
image: Visual Studio 2015

platform:
  - x64
  - x86

environment:
  matrix:
    - PYTHON_VERSION: 2.7
      MINICONDA: C:\Miniconda
    - PYTHON_VERSION: 3.4
      MINICONDA: C:\Miniconda34
    - PYTHON_VERSION: 3.5
      MINICONDA: C:\Miniconda35
    - PYTHON_VERSION: 3.6
      MINICONDA: C:\Miniconda36

install:
  - ps: if($env:PLATFORM -eq "x64") {
            $env:MINICONDA += "-x64";
        }
  - set PATH=%MINICONDA%;%MINICONDA%\Scripts;%PATH%
  - conda config --set always_yes yes --set changeps1 no
  - conda update -q conda
  - conda create -q -n test-environment python=%PYTHON_VERSION% numpy scipy nose pandas scikit-learn
  - activate test-environment
  - conda install mkl=2017.0.3  # Temp fix. Delete the line in the future when compatebility will be fixed.
  - pip install rgf_python -v

test_script:
  - python tests/test.py
